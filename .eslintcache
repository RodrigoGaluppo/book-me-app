[{"D:\\Projetos-Propios\\JS\\book_me_app\\src\\index.tsx":"1","D:\\Projetos-Propios\\JS\\book_me_app\\src\\reportWebVitals.ts":"2","D:\\Projetos-Propios\\JS\\book_me_app\\src\\serviceWorkerRegistration.ts":"3","D:\\Projetos-Propios\\JS\\book_me_app\\src\\App.tsx":"4","D:\\Projetos-Propios\\JS\\book_me_app\\src\\styles\\global.ts":"5","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\SignIn\\index.tsx":"6","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\SignIn\\styles.ts":"7","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Input\\index.tsx":"8","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Button\\index.tsx":"9","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Input\\styles.ts":"10","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Button\\styles.ts":"11","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\SignUp\\index.tsx":"12","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\SignUp\\styles.ts":"13","D:\\Projetos-Propios\\JS\\book_me_app\\src\\utils\\getValidationErrors.ts":"14","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\tooltip\\index.tsx":"15","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\tooltip\\styles.ts":"16","D:\\Projetos-Propios\\JS\\book_me_app\\src\\services\\apiClient.ts":"17","D:\\Projetos-Propios\\JS\\book_me_app\\src\\hooks\\AuthContext.tsx":"18","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\ToastContainer\\index.tsx":"19","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\ToastContainer\\styles.ts":"20","D:\\Projetos-Propios\\JS\\book_me_app\\src\\hooks\\index.tsx":"21","D:\\Projetos-Propios\\JS\\book_me_app\\src\\hooks\\ToastContext.tsx":"22","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\ToastContainer\\Toast\\index.tsx":"23","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\ToastContainer\\Toast\\styles.ts":"24","D:\\Projetos-Propios\\JS\\book_me_app\\src\\routes\\index.tsx":"25","D:\\Projetos-Propios\\JS\\book_me_app\\src\\routes\\Routes.tsx":"26","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Dashboard\\index.tsx":"27","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Dashboard\\styles.ts":"28","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\SearchInput\\index.tsx":"29","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\SearchInput\\styles.ts":"30","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Room\\index.tsx":"31","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Room\\styles.ts":"32","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Items\\index.tsx":"33","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Items\\styles.ts":"34","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\CreateRoom\\index.tsx":"35","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\CreateRoom\\styles.ts":"36","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\CreateItem\\index.tsx":"37","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\CreateItem\\styles.ts":"38","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Loading\\index.tsx":"39","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Loading\\styles.ts":"40","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Profile\\index.tsx":"41","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Profile\\styles.ts":"42","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\EmailConfirmation\\index.tsx":"43","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\EmailConfirmation\\styles.ts":"44"},{"size":381,"mtime":1607375496058,"results":"45","hashOfConfig":"46"},{"size":425,"mtime":1606833673119,"results":"47","hashOfConfig":"46"},{"size":5256,"mtime":1606833673119,"results":"48","hashOfConfig":"46"},{"size":346,"mtime":1607796817439,"results":"49","hashOfConfig":"46"},{"size":484,"mtime":1607813735062,"results":"50","hashOfConfig":"46"},{"size":3240,"mtime":1608156323933,"results":"51","hashOfConfig":"46"},{"size":1661,"mtime":1608162428945,"results":"52","hashOfConfig":"46"},{"size":1705,"mtime":1607874494702,"results":"53","hashOfConfig":"46"},{"size":311,"mtime":1607813543087,"results":"54","hashOfConfig":"46"},{"size":1547,"mtime":1607980537693,"results":"55","hashOfConfig":"46"},{"size":432,"mtime":1607801245835,"results":"56","hashOfConfig":"46"},{"size":3242,"mtime":1608151970540,"results":"57","hashOfConfig":"46"},{"size":1661,"mtime":1608162436977,"results":"58","hashOfConfig":"46"},{"size":366,"mtime":1607813741301,"results":"59","hashOfConfig":"46"},{"size":382,"mtime":1607813674646,"results":"60","hashOfConfig":"46"},{"size":967,"mtime":1607730476931,"results":"61","hashOfConfig":"46"},{"size":121,"mtime":1607872490522,"results":"62","hashOfConfig":"46"},{"size":3654,"mtime":1608994734470,"results":"63","hashOfConfig":"46"},{"size":930,"mtime":1607813634655,"results":"64","hashOfConfig":"46"},{"size":205,"mtime":1607793879619,"results":"65","hashOfConfig":"46"},{"size":364,"mtime":1607813530302,"results":"66","hashOfConfig":"46"},{"size":1547,"mtime":1607793676515,"results":"67","hashOfConfig":"46"},{"size":1337,"mtime":1608151951761,"results":"68","hashOfConfig":"46"},{"size":1166,"mtime":1607813664007,"results":"69","hashOfConfig":"46"},{"size":1279,"mtime":1608160551884,"results":"70","hashOfConfig":"46"},{"size":849,"mtime":1609357799024,"results":"71","hashOfConfig":"46"},{"size":6109,"mtime":1608403052510,"results":"72","hashOfConfig":"46"},{"size":3560,"mtime":1608334907450,"results":"73","hashOfConfig":"46"},{"size":885,"mtime":1607895334386,"results":"74","hashOfConfig":"46"},{"size":834,"mtime":1607875140922,"results":"75","hashOfConfig":"46"},{"size":4087,"mtime":1608403585274,"results":"76","hashOfConfig":"46"},{"size":2724,"mtime":1608395007313,"results":"77","hashOfConfig":"46"},{"size":5137,"mtime":1608403842467,"results":"78","hashOfConfig":"46"},{"size":3145,"mtime":1608403674222,"results":"79","hashOfConfig":"46"},{"size":2498,"mtime":1608335215443,"results":"80","hashOfConfig":"46"},{"size":1388,"mtime":1608150360208,"results":"81","hashOfConfig":"46"},{"size":3057,"mtime":1608327460564,"results":"82","hashOfConfig":"46"},{"size":1390,"mtime":1608150271324,"results":"83","hashOfConfig":"46"},{"size":334,"mtime":1608163487483,"results":"84","hashOfConfig":"46"},{"size":370,"mtime":1608164303506,"results":"85","hashOfConfig":"46"},{"size":1810,"mtime":1608156430481,"results":"86","hashOfConfig":"46"},{"size":2001,"mtime":1608155202479,"results":"87","hashOfConfig":"46"},{"size":2290,"mtime":1608165685019,"results":"88","hashOfConfig":"46"},{"size":623,"mtime":1608164588759,"results":"89","hashOfConfig":"46"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},"1bthfov",{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"92"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"92"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"92"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"92"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158","usedDeprecatedRules":"92"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"163","usedDeprecatedRules":"92"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"168","usedDeprecatedRules":"92"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"173","usedDeprecatedRules":"92"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"182","usedDeprecatedRules":"92"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"187","usedDeprecatedRules":"92"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},"D:\\Projetos-Propios\\JS\\book_me_app\\src\\index.tsx",[],["190","191"],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\reportWebVitals.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\serviceWorkerRegistration.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\App.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\styles\\global.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\SignIn\\index.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\SignIn\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Input\\index.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Button\\index.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Input\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Button\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\SignUp\\index.tsx",["192"],"import React,{useCallback,useRef,useState} from \"react\"\r\nimport {Container,Content,Background} from \"./styles\"\r\nimport {FormHandles} from \"@unform/core\"\r\nimport {FiArrowLeft,FiMail,FiLock,FiUser} from \"react-icons/fi\"\r\nimport {Form} from \"@unform/web\"\r\nimport * as Yup from \"yup\"\r\nimport {Link} from \"react-router-dom\"\r\nimport Input from \"../../components/Input\"\r\nimport Button from \"../../components/Button\"\r\nimport getValidationErrors from \"../../utils/getValidationErrors\"\r\nimport {useToast} from \"../../hooks/ToastContext\"\r\nimport api from \"../../services/apiClient\"\r\nimport Loading from \"../../components/Loading\"\r\n\r\ninterface SignUpFormData{\r\n    name:string\r\n    email:string\r\n    password:string\r\n}\r\n\r\nexport const SignUp:React.FC = ()=>{\r\n\r\n    const formRef = useRef<FormHandles>(null)\r\n    const{addToast} = useToast()\r\n    const [isLoading,setIsLoading] = useState<boolean>(false)\r\n\r\n    const handleSubit = useCallback(async (data:SignUpFormData)=>{\r\n        formRef.current?.setErrors({})\r\n        try{\r\n            const schema = Yup.object().shape({\r\n                username:Yup.string().required(\"name is required\"),\r\n                email:Yup.string().required(\"email is required\").email(\"the email must have a valid format\"),\r\n                password:Yup.string().min(3,\"password must have at least 3 digits\")\r\n            })\r\n            await schema.validate(data,{abortEarly:false});\r\n            setIsLoading(true)\r\n            api.post(\"/users\",data)\r\n            .then(()=>{\r\n                addToast({ \r\n                    type:\"success\",\r\n                    title:\"user was created successfully\",\r\n                    description:\"before loging in you must verify the e-mail we've sent to you\"\r\n                })\r\n                setIsLoading(false)\r\n            })\r\n            .catch(e=>{\r\n                addToast({ \r\n                    type:\"error\",\r\n                    title:\"data error\",\r\n                    description:e.response.data.message\r\n                })\r\n                setIsLoading(false)\r\n            })\r\n            \r\n        }catch(e){\r\n            if(e instanceof Yup.ValidationError){\r\n                const errors = getValidationErrors(e)\r\n                formRef.current?.setErrors(errors)\r\n                return\r\n            }\r\n            setIsLoading(false)\r\n            addToast({type:\"error\",title:\"something went wrong\",description:\"could not lod the request\"})\r\n        }\r\n    },[])\r\n\r\n    return (\r\n        <Container>\r\n            <Background></Background>\r\n            <Content>\r\n                <Form ref={formRef} /*initialData={{}}*/ onSubmit={handleSubit} >\r\n                    <h1>Sign up</h1>\r\n                    <Input name=\"username\" icon={FiUser} placeholder=\"name\"/>\r\n                    <Input name=\"email\" icon={FiMail} placeholder=\"email\"/>\r\n                    <Input name=\"password\"  icon={FiLock} placeholder=\"password\" type=\"password\" />\r\n                    <Button type=\"submit\">Sign up</Button>\r\n                </Form>\r\n                <Link to=\"\">\r\n                    <FiArrowLeft/>\r\n                    Back to Login\r\n                </Link>\r\n            </Content>\r\n            {isLoading && <Loading></Loading>}\r\n        </Container>\r\n    )\r\n}","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\SignUp\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\utils\\getValidationErrors.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\tooltip\\index.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\tooltip\\styles.ts",[],["193","194"],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\services\\apiClient.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\hooks\\AuthContext.tsx",["195","196","197"],"import React,{createContext, useCallback,useState,useContext} from \"react\"\r\nimport api from \"../services/apiClient\"\r\n\r\ninterface Iuser{\r\n    id:string\r\n    username:string\r\n    email:string\r\n    goal:IGoal\r\n    rooms:IRoom[]\r\n}\r\n\r\ninterface IRoom{\r\n    room_id:number\r\n    name:string\r\n    user_id:number\r\n    numberOfitens?:number\r\n    items?:IItem[]\r\n}\r\ninterface IItem{\r\n    room_id:number\r\n    name:string\r\n    item_id:number\r\n    value:number\r\n    date:string\r\n}\r\ninterface IGoal{\r\n    monthlyGoal:number\r\n    RoomMonthlyGoal:number\r\n    dailyGoal:number\r\n}\r\n\r\ninterface IAuthContext{\r\n    token:string\r\n    user:Iuser\r\n    signIn(credentials:Idata): Promise<void>\r\n    signOut():void\r\n    updateUser(Newuser:Iuser):void\r\n}\r\n\r\ninterface Idata{\r\n    email:string\r\n    password:string\r\n}\r\n\r\ninterface IAuthState{\r\n    user:Iuser\r\n    token:string\r\n}\r\n\r\n\r\nconst AuthContext = createContext<IAuthContext>({} as IAuthContext)\r\n\r\nexport const AuthProvider:React.FC = ({children})=>{\r\n\r\n    const [data,setData] = useState<IAuthState>(()=>{\r\n        const token = localStorage.getItem(\"@Bookme:token\")\r\n        const user = localStorage.getItem(\"@Bookme:user\")\r\n        \r\n        if (token && user){\r\n            return { token , user:JSON.parse(user)}\r\n        }else{\r\n            return {} as IAuthState\r\n        }\r\n    })\r\n\r\n    const CalculateDailyGoal = useCallback( (UserGoal:number):number=>{\r\n        const date = new Date()\r\n        const days = new Date(date.getFullYear(),date.getMonth() + 1 ,0).getDate()\r\n        if(data.user.rooms.length > 0){\r\n            return Math.round((UserGoal / data.user.rooms.length) / days)\r\n        }else{\r\n            return Math.round((UserGoal / 1) / days)\r\n        }\r\n    },[])\r\n\r\n    const signIn = useCallback( async ({email,password}:Idata)=>{\r\n        const res = await api.post(\"login\",{\r\n            email,password\r\n        })\r\n        const {token,user} = res.data\r\n        const userWithGoal:Iuser = {\r\n            id:user.id,\r\n            username:user.username,\r\n            email:user.email,\r\n            goal:{\r\n                monthlyGoal:user.goal,\r\n                RoomMonthlyGoal: user.rooms.length > 0 ? (user.goal / user.rooms.length) : user.goal,\r\n                dailyGoal:CalculateDailyGoal(user.goal)\r\n            },\r\n            rooms:user.rooms\r\n        }\r\n        \r\n        localStorage.setItem(\"@Bookme:token\",token)\r\n        localStorage.setItem(\"@Bookme:user\",JSON.stringify(userWithGoal))\r\n\r\n        api.defaults.headers.authorization = `Bearer ${token}`\r\n                                                                                                                                                     \r\n        setData({token,user:userWithGoal})\r\n    },[])\r\n\r\n    const signOut = useCallback(()=>{\r\n        localStorage.removeItem(\"@Bookme:token\")\r\n        localStorage.removeItem(\"@Bookme:user\")\r\n\r\n        setData({} as IAuthState)\r\n    },[])\r\n\r\n    const updateUser = useCallback((Newuser:Iuser)=>{\r\n        localStorage.setItem(\"@Bookme:token\",data.token)\r\n        localStorage.setItem(\"@Bookme:user\",JSON.stringify(data.user))\r\n\r\n        console.log(Newuser);\r\n        \r\n\r\n\r\n        setData({user:Newuser,token:data.token})\r\n    },[setData,localStorage])\r\n\r\n\r\n    return(\r\n        <AuthContext.Provider value={{user:data.user,token:data.token,signIn,signOut,updateUser}} >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useAuth = ():IAuthContext=>{\r\n    const context = useContext(AuthContext)\r\n    if(!context){\r\n        throw new Error(\"useAuth must be used within an auth provider\")\r\n    }else{\r\n        return context\r\n    }\r\n\r\n}\r\n","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\ToastContainer\\index.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\ToastContainer\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\hooks\\index.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\hooks\\ToastContext.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\ToastContainer\\Toast\\index.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\ToastContainer\\Toast\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\routes\\index.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\routes\\Routes.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Dashboard\\index.tsx",["198","199","200","201","202"],"import React, { useEffect, useState,useRef,useCallback } from \"react\"\r\nimport \"./Dash.css\"\r\nimport {Container,Info,Search,ListRooms,AddRoom,User} from \"./styles\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {useAuth} from \"../../hooks/AuthContext\"\r\nimport {FormHandles} from \"@unform/core\"\r\nimport {Form} from \"@unform/web\"\r\nimport {useToast} from \"../../hooks/ToastContext\"\r\nimport {FiTrash2,FiUser} from \"react-icons/fi\"\r\nimport api from \"../../services/apiClient\"\r\nimport SearchInput from \"../../components/SearchInput\"\r\nimport Loading from \"../../components/Loading\"\r\n\r\ninterface IItem{\r\n    room_id:number\r\n    name:string\r\n    item_id:number\r\n    value:number\r\n    date:string\r\n}\r\n\r\ninterface IRoom{\r\n    room_id:number\r\n    name:string\r\n    user_id:number\r\n    numberOfitems?:number\r\n    items?:IItem[]\r\n}\r\n\r\ninterface IResponse{\r\n    rooms:IRoom[]  \r\n}\r\n\r\ninterface IResponseDel{\r\n    message:string\r\n}\r\n\r\ninterface IFilter{\r\n    Roomname:string\r\n}\r\n\r\nconst Dashboard:React.FC = ()=>{\r\n    const formRef = useRef<FormHandles>(null)\r\n    //const history = useHistory()\r\n    const {token,user,signOut,updateUser} = useAuth()\r\n    const {addToast} = useToast()\r\n    const [rooms,setRooms] = useState<IRoom[]>([])\r\n    const [balance,setBalance] = useState<number>(0)\r\n    const [isLoading,setIsLoading] = useState<boolean>(false)\r\n    const [isOverTheGoal,setisOverTheGoal] = useState<boolean>(false) \r\n\r\n    useEffect(()=>{\r\n        setIsLoading(true)\r\n        \r\n        api.get<IResponse>(`rooms?user_id=${user.id}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\r\n        .then(res=>{\r\n            setIsLoading(false)\r\n            const newRooms = res.data.rooms.map((room)=>(\r\n                room = {\r\n                    room_id:room.room_id,\r\n                    name:room.name,\r\n                    user_id:room.user_id,\r\n                    numberOfitems:room.items?.length,\r\n                    items:room.items\r\n                }\r\n            ))\r\n            setRooms(newRooms)\r\n        })\r\n        .catch((e)=>{\r\n            setIsLoading(false)\r\n            if(!!e.request && e.request.status === 401)\r\n                signOut() \r\n            addToast({type:\"error\",title:\"something went wrong\",description:\"could not load the request\"})\r\n        })\r\n        \r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        let newBalance:number = 0\r\n        rooms.forEach(room=>{\r\n            room.items?.forEach((item)=>{\r\n                newBalance += item.value\r\n            })\r\n        })\r\n        setBalance(newBalance)\r\n        updateUser({\r\n            id:user.id,\r\n            username:user.username,\r\n            email:user.email,\r\n            goal:{\r\n                monthlyGoal:user.goal.monthlyGoal,\r\n                RoomMonthlyGoal: rooms.length > 0 ? (user.goal.monthlyGoal / rooms.length) : user.goal.monthlyGoal,\r\n                dailyGoal: user.goal.dailyGoal\r\n            },\r\n            rooms:rooms\r\n        })\r\n    },[rooms])\r\n\r\n    useEffect(()=>{\r\n        user.goal.monthlyGoal < balance ? setisOverTheGoal(true) : setisOverTheGoal(false)\r\n    },[balance])\r\n\r\n    const handleSubit = useCallback(async (data:IFilter)=>{\r\n        setIsLoading(true)\r\n\r\n        api.get<IResponse>(`rooms?user_id=${user.id}&name=${data.Roomname}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\r\n        .then(res=>{\r\n            setRooms(res.data.rooms)\r\n            setIsLoading(false)\r\n        })\r\n        .catch((e)=>{\r\n            setIsLoading(false)\r\n            if(!!e.request && e.request.status === 401)\r\n                signOut() \r\n            addToast({type:\"error\",title:\"something went wrong\",description:\"could not load the request\"})\r\n        })\r\n\r\n    },[api,addToast])\r\n\r\n    const handleRemove = useCallback(async(room:IRoom)=>{\r\n        setIsLoading(true)\r\n        api.delete<IResponseDel>(`rooms/${room.room_id}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\r\n        .then((res)=>{\r\n            const newRooms = rooms.filter(r=>{\r\n                return r.room_id !== room.room_id\r\n            })\r\n            setRooms(newRooms)\r\n            setIsLoading(false)\r\n            addToast({type:\"success\",title:res.data.message})\r\n        })\r\n        .catch((e)=>{ \r\n            setIsLoading(false)  \r\n            if(!!e.request && e.request.status === 401)\r\n                signOut() \r\n            addToast({type:\"error\",title:\"something went wrong\",description:\"could not load the request\"})\r\n        })\r\n    },[rooms,api])\r\n\r\n    return(\r\n        <Container>\r\n            <User><Link to={\"/profile\"} ><FiUser size={20} ></FiUser></Link></User>\r\n            <Info>\r\n                <h1>Hello <strong>{user.username}</strong> </h1>\r\n                <p>Total Balance <strong>{balance} €</strong></p>\r\n                {!!isOverTheGoal ? <p className=\"over\">{balance - user.goal.monthlyGoal}€ over the goal!</p> :\r\n\r\n                 <p className=\"below\">{user.goal.monthlyGoal - balance}€ bellow the goal!</p>}\r\n            </Info>\r\n            <Search>\r\n                <Form ref={formRef} onSubmit={handleSubit} >\r\n                    <SearchInput  placeholder=\"Search any room\"  name=\"Roomname\" >\r\n\r\n                    </SearchInput>\r\n                </Form>\r\n            </Search>\r\n            <ListRooms>\r\n                {rooms.map((room)=>{\r\n                    return(\r\n                        <div key={room.room_id}>\r\n                            <Link  to={`/rooms/${room.room_id}`}>\r\n                                <div>\r\n                                    <strong>{room.name}</strong>\r\n                                    <p>items {room.numberOfitems}</p>\r\n                                </div>\r\n                            </Link>\r\n                            <button><FiTrash2 size={25} onClick={(e)=>{handleRemove(room)}}\r\n                             /></button>\r\n                        </div>\r\n                    )\r\n                })} \r\n            </ListRooms>\r\n            {isLoading && <Loading></Loading>}\r\n            <AddRoom><Link to={\"/create_new_room\"} ><span>+</span></Link></AddRoom>\r\n        </Container>\r\n    )\r\n}\r\nexport default Dashboard","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Dashboard\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\SearchInput\\index.tsx",["203","204"],"import React,{InputHTMLAttributes, useEffect,useRef,useState,useCallback} from \"react\"\r\nimport {Container} from \"./styles\"\r\nimport {useField} from \"@unform/core\"\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement>{\r\n    name:string\r\n}\r\n\r\nconst SearchInput:React.FC<InputProps>= ({name,...rest})=>{\r\n\r\n    const inputRef = useRef<HTMLInputElement>(null) \r\n    const {fieldName,registerField} = useField(name)\r\n\r\n    useEffect(()=>{\r\n        registerField({\r\n            name:fieldName,\r\n            ref:inputRef.current,\r\n            path:\"value\"\r\n        })\r\n    },[fieldName,registerField])\r\n\r\n    return (\r\n        <Container>\r\n            <input \r\n            type=\"text\"  \r\n            ref={inputRef}\r\n            {...rest} \r\n            />\r\n            <button type=\"submit\">Search</button>\r\n        </Container>\r\n        \r\n    )\r\n}\r\n\r\nexport default SearchInput","D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\SearchInput\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Room\\index.tsx",["205","206","207"],"import React, { useEffect, useState,useCallback } from \"react\"\r\nimport {Container,Info,CalendarWrapper,Text} from \"./styles\"\r\nimport {Link,useRouteMatch,useHistory} from \"react-router-dom\"\r\nimport {useAuth} from \"../../hooks/AuthContext\"\r\nimport DayPicker, { DayModifiers } from 'react-day-picker';\r\nimport \"react-day-picker/lib/style.css\"\r\nimport {useToast} from \"../../hooks/ToastContext\"\r\nimport {FiArrowLeft} from \"react-icons/fi\"\r\nimport api from \"../../services/apiClient\"\r\nimport Loading from \"../../components/Loading\"\r\n\r\ninterface IItem{\r\n    room_id:number\r\n    name:string\r\n    item_id:number\r\n    value:number\r\n    date:string\r\n}\r\n\r\ninterface IRoom{\r\n    room_id:number\r\n    name:string\r\n    user_id:number\r\n    numberOfitens?:number\r\n    items?:IItem[]\r\n}\r\n\r\ninterface IParams{\r\n    room_id:string | undefined\r\n}\r\n\r\nconst Room:React.FC = ()=>{\r\n    const {addToast} = useToast()\r\n    const history = useHistory()\r\n    const {token,signOut,user} = useAuth()\r\n    const { params } = useRouteMatch<IParams>()\r\n    const [room,setRoom] = useState<IRoom>({} as IRoom)\r\n    const [selectedDate, setSelectedDate] = useState(new Date())\r\n    const [balance,setBalance] = useState<number>(0)\r\n    const [isLoading,setIsLoading] = useState<boolean>(false)\r\n    const [isOverTheGoal,setisOverTheGoal] = useState<boolean>(false)\r\n\r\n    const handleDateChange = useCallback((day: Date, modifiers: DayModifiers) => {\r\n        if (modifiers.available) {\r\n          const DayForm = day.toString().split(\" \")[2]\r\n          const MonthForm = new Date().getMonth() + 1  \r\n          setSelectedDate(day)  \r\n          history.push(`/rooms/${params.room_id}/${DayForm}/${MonthForm}`)\r\n        }\r\n    }, [])\r\n    \r\n    useEffect(()=>{\r\n        setIsLoading(true)\r\n        api.get<IRoom>(`rooms/${params.room_id}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\r\n        .then(res=>{\r\n            setRoom(res.data)\r\n            setIsLoading(false)\r\n        })\r\n        .catch(e=>{\r\n            setIsLoading(false)\r\n            if(!!e.request && e.request.status === 401)\r\n                signOut()\r\n            addToast({type:\"error\",title:\"something went wrong\",description:\"could not load the request\"})\r\n        })\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        let newBalance = 0\r\n\r\n        room.items?.forEach((item)=>{\r\n            newBalance += item.value\r\n        })\r\n        setBalance(newBalance)\r\n        \r\n    },[room])\r\n    \r\n    return(\r\n        <Container>\r\n            <Info>\r\n                <span>\r\n                    <Link to={\"/\"}>\r\n                        <FiArrowLeft size={22} ></FiArrowLeft>\r\n                    </Link>\r\n                </span>\r\n                <h1><strong>{room.name}</strong></h1>\r\n                <p>Balance <strong> {balance} €</strong></p>\r\n                {!!isOverTheGoal ? <p className=\"over\">{balance - user.goal.RoomMonthlyGoal}€ over the goal!</p> :\r\n\r\n                 <p className=\"below\">{user.goal.RoomMonthlyGoal - balance}€ bellow the goal !</p>}\r\n            </Info>\r\n            <Text>\r\n                <h1>choose a date in the calendar</h1>\r\n            </Text>\r\n            <CalendarWrapper className=\"wrapper\" >\r\n            \r\n            <DayPicker\r\n                weekdaysShort={['D', 'S', 'T', 'Q', 'Q', 'S', 'S']}\r\n                fromMonth={new Date()}\r\n                toMonth={new Date()}\r\n                modifiers={{\r\n                available: { daysOfWeek: [0,1, 2, 3, 4, 5,6,] },\r\n                }}\r\n                selectedDays={selectedDate}\r\n                onDayClick={handleDateChange}\r\n                months={[\r\n                'Janeiro',\r\n                'Fevereiro',\r\n                'Março',\r\n                'Abril',\r\n                'Maio',\r\n                'Junho',\r\n                'Julho',\r\n                'Agosto',\r\n                'Setembro',\r\n                'Outubro',\r\n                'Novembro',\r\n                'Dezembro',\r\n            ]}\r\n            />\r\n            {isLoading && <Loading></Loading>}\r\n            </CalendarWrapper>\r\n        </Container>\r\n    )\r\n}\r\nexport default Room\r\n","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Room\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Items\\index.tsx",["208","209","210","211","212"],"import React, { useEffect, useState,useCallback } from \"react\"\r\nimport {Container,Info,Text,ListItems,AddItem} from \"./styles\"\r\nimport {Link,useRouteMatch} from \"react-router-dom\"\r\nimport {useAuth} from \"../../hooks/AuthContext\"\r\nimport {useToast} from \"../../hooks/ToastContext\"\r\nimport {FiArrowLeft,FiTrash2} from \"react-icons/fi\"\r\nimport api from \"../../services/apiClient\"\r\nimport Loading from \"../../components/Loading\"\r\n\r\ninterface IItem{\r\n    room_id:number\r\n    name:string\r\n    item_id:number\r\n    value:number\r\n    date:string\r\n}\r\n\r\ninterface IResponseDel{\r\n    message:string\r\n}\r\n\r\ninterface IRoom{\r\n    room_id:number\r\n    name:string\r\n    user_id:number\r\n    numberOfitens?:number\r\n    items?:IItem[]\r\n}\r\n\r\ninterface IParams{\r\n    room_id:string | undefined\r\n    day:string | undefined\r\n    month:string | undefined\r\n}\r\n\r\nconst Item:React.FC = ()=>{\r\n    const {addToast} = useToast()\r\n    const {token,signOut,user} = useAuth()\r\n    const { params } = useRouteMatch<IParams>()\r\n    const [room,setRoom] = useState<IRoom>({} as IRoom)\r\n    const [items,setItems] = useState<IItem[]>([])\r\n    const [balance,setBalance] = useState<number>(0)\r\n    const [isToday,setIsToday] = useState(true)\r\n    const [isLoading,setIsLoading] = useState(false)\r\n    const [isOverTheGoal,setisOverTheGoal] = useState<boolean>(false)\r\n    \r\n    useEffect(()=>{\r\n        setIsLoading(true)\r\n        api.get<IRoom>(`rooms/${params.room_id}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\r\n        .then(res=>{\r\n            setRoom(res.data)\r\n            setIsLoading(false)\r\n        })\r\n        .catch(e=>{\r\n            setIsLoading(false)\r\n            if(!!e.request && e.request.status === 401)\r\n                signOut()\r\n            addToast({type:\"error\",title:\"something went wrong\",description:\"could not load the request\"})\r\n        })\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        setIsLoading(true)\r\n        api.get(`items?room_id=${params.room_id}&day=${params.day}&month=${params.month}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\r\n        .then(res=>{                   \r\n            setItems(res.data.items) \r\n            setIsLoading(false)\r\n        })\r\n        .catch(e=>{\r\n            setIsLoading(false)\r\n            if(!!e.request && e.request.status === 401)\r\n                signOut()\r\n            addToast({type:\"error\",title:\"something went wrong\",description:\"could not load the request\"})\r\n\r\n        })\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        let newBalance = 0\r\n\r\n        items.forEach((item)=>{\r\n            newBalance += item.value\r\n        })\r\n        setBalance(newBalance)\r\n    },[items])\r\n\r\n    useEffect(()=>{\r\n        user.goal.dailyGoal < balance ? setisOverTheGoal(true) : setisOverTheGoal(false)\r\n    },[balance])\r\n\r\n    useEffect(()=>{\r\n        const today = new Date()\r\n        if( !(today.getDate() <= Number(params.day)) || !(today.getMonth() + 1 <= Number(params.month)) ){\r\n            setIsToday(false)\r\n        }\r\n    },[])\r\n\r\n    const handleRemove = useCallback(async(item:IItem)=>{\r\n        setIsLoading(true)\r\n        api.delete<IResponseDel>(`items/${item.item_id}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\r\n        .then((res)=>{\r\n            const newItems = items.filter(i=>{\r\n                return i.item_id !== item.item_id\r\n            })\r\n            setItems(newItems)\r\n            addToast({type:\"success\",title:res.data.message})\r\n            setIsLoading(false)\r\n        })\r\n        .catch((e)=>{\r\n            setIsLoading(false)\r\n            if(!!e.request && e.request.status === 401)\r\n                signOut()      \r\n            addToast({type:\"error\",title:\"something went wrong\",description:e.message})\r\n        })\r\n    },[items,api])\r\n    return(\r\n        <Container>\r\n            <Info>\r\n                <span>\r\n                    <Link to={`/rooms/${params.room_id}`}>\r\n                        <FiArrowLeft size={22} ></FiArrowLeft>\r\n                    </Link>\r\n                </span>\r\n                <h1><strong>{room.name}</strong></h1>\r\n                <p>Balance <strong> {balance} €</strong></p>\r\n                {!!isOverTheGoal ? <p className=\"over\">{balance - user.goal.dailyGoal}€ over the goal!</p> :\r\n\r\n                 <p className=\"below\">{user.goal.dailyGoal - balance}€ bellow the goal!</p>}\r\n            </Info>\r\n            <Text>\r\n                <h1>date {params.day}/{params.month}</h1>\r\n            </Text>\r\n            <ListItems>\r\n                {items.map((item)=>(\r\n                    <div key={item.item_id} >\r\n                        <strong>{item.name}</strong>\r\n                        <p> value <span>{item.value} $</span> </p>\r\n                        <button><FiTrash2 size={25} onClick={(e)=>{handleRemove(item);\r\n                        }}\r\n                             /></button>\r\n                    </div>\r\n                ))}\r\n            </ListItems>\r\n            { isToday && <AddItem><Link to={`/${params.room_id}/${params.day}/${params.month}/create_new_item`} ><span>+</span></Link></AddItem>}\r\n            {isLoading && <Loading></Loading>}\r\n        </Container>\r\n    )\r\n}\r\nexport default Item\r\n","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Items\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\CreateRoom\\index.tsx",["213"],"import React, {useCallback,useRef,useState} from \"react\"\r\nimport {Container,Info,Text,Search} from \"./styles\"\r\nimport {Link,useHistory} from \"react-router-dom\"\r\nimport {useAuth} from \"../../hooks/AuthContext\"\r\nimport {FormHandles} from \"@unform/core\"\r\nimport {Form} from \"@unform/web\"\r\nimport {useToast} from \"../../hooks/ToastContext\"\r\nimport {FiArrowLeft} from \"react-icons/fi\"\r\nimport {FaPen} from \"react-icons/fa\"\r\nimport Input from \"../../components/Input\"\r\nimport Button from \"../../components/Button\"\r\nimport Loading from \"../../components/Loading\"\r\nimport api from \"../../services/apiClient\"\r\n\r\ninterface IFilter{\r\n    NewRoomName:string\r\n}\r\n\r\nconst CreateRoom:React.FC = ()=>{\r\n    const {addToast} = useToast()\r\n    const history = useHistory()\r\n    const {token,user,signOut} = useAuth()\r\n    const formRef = useRef<FormHandles>(null)\r\n    const [isLoading,setIsLoading] = useState<boolean>(false)\r\n\r\n    const handleSubit = useCallback(async (data:IFilter)=>{\r\n        console.log(user);\r\n        \r\n        setIsLoading(true)  \r\n        api.post(`/rooms`,{ \r\n        headers: {\"Authorization\" : `Bearer ${token}`},\r\n        name:data.NewRoomName,\r\n        user_id:user.id})\r\n        .then(()=>{\r\n            addToast({type:\"success\",title:\"success\",description:\"room was successfully added\"})\r\n            history.push(\"/dashboard\")\r\n            setIsLoading(false) \r\n        })\r\n        .catch(e=>{\r\n            setIsLoading(false) \r\n            if(!!e.request && e.request.status === 401)\r\n                signOut()            \r\n            addToast({type:\"error\",title:\"something went wrong\",description:\"could not load the request\"})\r\n            \r\n        })\r\n    },[api,addToast])\r\n    return(\r\n        <Container>\r\n            <Info>\r\n                <span>\r\n                    <Link to={`/dashboard`}>\r\n                        <FiArrowLeft size={22} ></FiArrowLeft>\r\n                    </Link>\r\n                </span>\r\n                <h1><strong>Create a new Room</strong></h1>\r\n            </Info>\r\n            <Text>\r\n                <h1>Write Down the name</h1>\r\n            </Text>\r\n            <Search>\r\n                <Form ref={formRef} onSubmit={handleSubit} >\r\n                    <Input placeholder=\"type the room name\" icon={FaPen} name=\"NewRoomName\" ></Input>\r\n                    <Button>Submit</Button>\r\n                </Form>\r\n            </Search>\r\n            {isLoading && <Loading></Loading>}\r\n        </Container>\r\n    )\r\n}\r\nexport default CreateRoom\r\n","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\CreateRoom\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\CreateItem\\index.tsx",["214"],"import React, {useState,useCallback,useRef } from \"react\"\r\nimport {Container,Info,Text,Search} from \"./styles\"\r\nimport {Link,useHistory,useRouteMatch} from \"react-router-dom\"\r\nimport {useAuth} from \"../../hooks/AuthContext\"\r\nimport {FormHandles} from \"@unform/core\"\r\nimport {Form} from \"@unform/web\"\r\nimport {useToast} from \"../../hooks/ToastContext\"\r\nimport {FiArrowLeft} from \"react-icons/fi\"\r\nimport {FaEuroSign} from \"react-icons/fa\"\r\nimport {FaPen} from \"react-icons/fa\"\r\nimport Input from \"../../components/Input\"\r\nimport Button from \"../../components/Button\"\r\nimport Loading from \"../../components/Loading\"\r\nimport api from \"../../services/apiClient\"\r\n\r\ninterface IFilter{\r\n    NewItemName:string\r\n    NewItemValue:number\r\n}\r\ninterface IParams{\r\n    room_id: string | undefined\r\n    day: string | undefined\r\n    month: string | undefined\r\n}\r\n\r\nconst CreateItem:React.FC = ()=>{\r\n    const {addToast} = useToast()\r\n    const history = useHistory()\r\n    const {token,signOut} = useAuth()\r\n    const formRef = useRef<FormHandles>(null)\r\n    const { params } = useRouteMatch<IParams>()\r\n    const [isLoading,setIsLoading] = useState<boolean>(false)\r\n\r\n    const handleSubit = useCallback(async (data:IFilter)=>{ \r\n\r\n        setIsLoading(true) \r\n        api.post(`/items`,{ \r\n\r\n            headers: {\"Authorization\" : `Bearer ${token}`},\r\n            name:data.NewItemName,\r\n            value:data.NewItemValue,\r\n            room_id:params.room_id,\r\n            day:params.day,\r\n            month:params.month\r\n\r\n        })\r\n\r\n        .then(()=>{\r\n\r\n            addToast({type:\"success\",title:\"success\",description:\"item was successfully added\"})\r\n\r\n            history.push(`/rooms/${params.room_id}/${params.day}/${params.month}`)\r\n\r\n            setIsLoading(false)\r\n        })\r\n        .catch(e=>{\r\n\r\n            setIsLoading(false)\r\n\r\n            if(!!e.request && e.request.status === 401)\r\n                signOut()\r\n            console.log(e.request);\r\n            \r\n            addToast({type:\"error\",title:\"something went wrong\",description:\"could not load the request\"})\r\n            \r\n        })\r\n    },[api,addToast])\r\n    return(\r\n        <Container>\r\n            <Info>\r\n                <span>\r\n                    <Link to={`/rooms/${params.room_id}/${params.day}/${params.month}`}>\r\n                        <FiArrowLeft size={22} ></FiArrowLeft>\r\n                    </Link>\r\n                </span>\r\n                <h1><strong>Create a new Item</strong></h1>\r\n            </Info>\r\n            <Text>\r\n                <h1>Write Down the info</h1>\r\n            </Text>\r\n            <Search>\r\n                <Form ref={formRef} onSubmit={handleSubit} >\r\n                    <Input placeholder=\"name\" icon={FaPen} name=\"NewItemName\" ></Input>\r\n                    <Input placeholder=\"value\" icon={FaEuroSign} name=\"NewItemValue\" ></Input>\r\n                    <Button>Submit</Button>\r\n                </Form>\r\n            </Search>\r\n            {isLoading && <Loading></Loading>}\r\n        </Container>\r\n    )\r\n}\r\nexport default CreateItem\r\n","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\CreateItem\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Loading\\index.tsx",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\components\\Loading\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Profile\\index.tsx",["215"],"import React, {useCallback,useRef } from \"react\"\r\nimport {Container,Info,Text,Search,User} from \"./styles\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {useAuth} from \"../../hooks/AuthContext\"\r\nimport {FormHandles} from \"@unform/core\"\r\nimport {Form} from \"@unform/web\"\r\nimport {useToast} from \"../../hooks/ToastContext\"\r\nimport {FiArrowLeft} from \"react-icons/fi\"\r\nimport {FaIdCard,FaUser} from \"react-icons/fa\"\r\nimport {FiMail,FiLogOut} from \"react-icons/fi\"\r\nimport Input from \"../../components/Input\"\r\n\r\n\r\nconst CreateItem:React.FC = ()=>{\r\n    const {addToast} = useToast()\r\n    const {signOut,user} = useAuth()\r\n    const formRef = useRef<FormHandles>(null)\r\n    const handleSignOut = useCallback(()=>{\r\n        addToast({type:\"success\",title:\"You've successfully logged out\"})\r\n        signOut()\r\n    },[])\r\n\r\n    return(\r\n        <Container>\r\n            <User onClick={handleSignOut} ><FiLogOut></FiLogOut></User>\r\n            <Info>\r\n                <span>\r\n                    <Link to={`/dashboard`}>\r\n                        <FiArrowLeft size={22} ></FiArrowLeft>\r\n                    </Link>\r\n                </span>\r\n                <h1><strong>Your Profile</strong></h1>\r\n            </Info>\r\n            <Text>\r\n                <h1>View Your Profile</h1>\r\n            </Text>\r\n            <Search>\r\n                <Form ref={formRef}  onSubmit={()=>{}}>\r\n                    <Input placeholder=\"Username\" value={user.username} icon={FaUser} name=\"NewUsername\" ></Input>\r\n                    <Input placeholder=\"Email\" value={user.email} icon={FiMail} name=\"NewEmail\" ></Input>\r\n                    <Input readOnly placeholder=\"Id\" value={user.id} icon={FaIdCard} name=\"id\" ></Input>\r\n                </Form>\r\n            </Search>\r\n        </Container>\r\n    )\r\n}\r\nexport default CreateItem\r\n","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\Profile\\styles.ts",[],"D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\EmailConfirmation\\index.tsx",["216"],"import React,{useEffect,useState} from \"react\"\r\nimport {FiCheckCircle,FiDelete} from \"react-icons/fi\"\r\nimport {Info} from \"./styles\"\r\nimport api from \"../../services/apiClient\"\r\nimport {useRouteMatch} from \"react-router-dom\"\r\nimport Loading from \"../../components/Loading\"\r\nimport {useToast} from \"../../hooks/ToastContext\"\r\n\r\ninterface IParams{\r\n    token:string | undefined\r\n}\r\n\r\ninterface IResponse{\r\n    username:string\r\n}\r\n\r\nconst Confirmation:React.FC = ()=>{\r\n    const [isLoading,setIsLoading] = useState<boolean>(false)\r\n    const [isConfirmed,setIsConfirmed] = useState<boolean>(false)\r\n    const [username,setUsername] = useState<string>(\"\")\r\n    const { params } = useRouteMatch<IParams>()\r\n    const {addToast} = useToast()\r\n    \r\n    useEffect(()=>{\r\n        setIsLoading(true)\r\n        api.post<IResponse>(\"/confirmation\",{token:params.token})\r\n        .then((res)=>{\r\n            setIsLoading(false)\r\n            setIsConfirmed(true)\r\n            setUsername(res.data.username)\r\n            addToast({type:\"success\",title:\"Your e-mail has just been confirmed\"})\r\n            \r\n        })\r\n        .catch(e=>{\r\n            const res = JSON.parse(e.request.response)\r\n            if(res){          \r\n                setIsLoading(false)\r\n                addToast({type:\"error\",title:\"error\",description:res.message}) \r\n            } else{\r\n                setIsLoading(false)\r\n                addToast({type:\"error\",title:\"error\",description:\"internal server error\"})\r\n            }    \r\n        })\r\n            \r\n        \r\n    },[])\r\n\r\n    return(\r\n        <>\r\n            {isLoading && <Loading></Loading>}\r\n            {isConfirmed && <Info>\r\n                <h1>Thank you <strong>{username}</strong></h1>\r\n                <p>your e-mail has been successfully confirmed <FiCheckCircle style={{color:\"#04D361\"}} size={70} ></FiCheckCircle></p>\r\n                <p>you may login now</p>\r\n            </Info>}\r\n            {isLoading && !(isConfirmed) && <Info></Info>}\r\n            {!isLoading && !(isConfirmed) && <Info>\r\n                <h1 style={{color:\"#c53030\"}} >Sorry</h1>\r\n                <p>an error has just ocurried <FiDelete style={{color:\"#c53030\"}} size={70} ></FiDelete></p>\r\n            </Info>}\r\n        </>\r\n        \r\n    )\r\n}\r\n\r\nexport default Confirmation","D:\\Projetos-Propios\\JS\\book_me_app\\src\\pages\\EmailConfirmation\\styles.ts",[],{"ruleId":"217","replacedBy":"218"},{"ruleId":"219","replacedBy":"220"},{"ruleId":"221","severity":1,"message":"222","line":64,"column":7,"nodeType":"223","endLine":64,"endColumn":9,"suggestions":"224"},{"ruleId":"217","replacedBy":"225"},{"ruleId":"219","replacedBy":"226"},{"ruleId":"221","severity":1,"message":"227","line":74,"column":7,"nodeType":"223","endLine":74,"endColumn":9,"suggestions":"228"},{"ruleId":"221","severity":1,"message":"229","line":99,"column":7,"nodeType":"223","endLine":99,"endColumn":9,"suggestions":"230"},{"ruleId":"221","severity":1,"message":"231","line":117,"column":7,"nodeType":"223","endLine":117,"endColumn":29,"suggestions":"232"},{"ruleId":"221","severity":1,"message":"233","line":76,"column":7,"nodeType":"223","endLine":76,"endColumn":9,"suggestions":"234"},{"ruleId":"221","severity":1,"message":"235","line":97,"column":7,"nodeType":"223","endLine":97,"endColumn":14,"suggestions":"236"},{"ruleId":"221","severity":1,"message":"237","line":101,"column":7,"nodeType":"223","endLine":101,"endColumn":16,"suggestions":"238"},{"ruleId":"221","severity":1,"message":"239","line":118,"column":7,"nodeType":"223","endLine":118,"endColumn":21,"suggestions":"240"},{"ruleId":"221","severity":1,"message":"241","line":137,"column":7,"nodeType":"223","endLine":137,"endColumn":18,"suggestions":"242"},{"ruleId":"243","severity":1,"message":"244","line":1,"column":53,"nodeType":"245","messageId":"246","endLine":1,"endColumn":61},{"ruleId":"243","severity":1,"message":"247","line":1,"column":62,"nodeType":"245","messageId":"246","endLine":1,"endColumn":73},{"ruleId":"243","severity":1,"message":"248","line":41,"column":26,"nodeType":"245","messageId":"246","endLine":41,"endColumn":42},{"ruleId":"221","severity":1,"message":"249","line":50,"column":8,"nodeType":"223","endLine":50,"endColumn":10,"suggestions":"250"},{"ruleId":"221","severity":1,"message":"251","line":65,"column":7,"nodeType":"223","endLine":65,"endColumn":9,"suggestions":"252"},{"ruleId":"221","severity":1,"message":"251","line":60,"column":7,"nodeType":"223","endLine":60,"endColumn":9,"suggestions":"253"},{"ruleId":"221","severity":1,"message":"254","line":76,"column":7,"nodeType":"223","endLine":76,"endColumn":9,"suggestions":"255"},{"ruleId":"221","severity":1,"message":"256","line":89,"column":7,"nodeType":"223","endLine":89,"endColumn":16,"suggestions":"257"},{"ruleId":"221","severity":1,"message":"258","line":96,"column":7,"nodeType":"223","endLine":96,"endColumn":9,"suggestions":"259"},{"ruleId":"221","severity":1,"message":"241","line":115,"column":7,"nodeType":"223","endLine":115,"endColumn":18,"suggestions":"260"},{"ruleId":"221","severity":1,"message":"261","line":46,"column":7,"nodeType":"223","endLine":46,"endColumn":21,"suggestions":"262"},{"ruleId":"221","severity":1,"message":"263","line":67,"column":7,"nodeType":"223","endLine":67,"endColumn":21,"suggestions":"264"},{"ruleId":"221","severity":1,"message":"265","line":21,"column":7,"nodeType":"223","endLine":21,"endColumn":9,"suggestions":"266"},{"ruleId":"221","severity":1,"message":"267","line":46,"column":7,"nodeType":"223","endLine":46,"endColumn":9,"suggestions":"268"},"no-native-reassign",["269"],"no-negated-in-lhs",["270"],"react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'addToast'. Either include it or remove the dependency array.","ArrayExpression",["271"],["269"],["270"],"React Hook useCallback has a missing dependency: 'data.user.rooms.length'. Either include it or remove the dependency array.",["272"],"React Hook useCallback has a missing dependency: 'CalculateDailyGoal'. Either include it or remove the dependency array.",["273"],"React Hook useCallback has missing dependencies: 'data.token' and 'data.user'. Either include them or remove the dependency array. Outer scope values like 'localStorage' aren't valid dependencies because mutating them doesn't re-render the component.",["274"],"React Hook useEffect has missing dependencies: 'addToast', 'signOut', 'token', and 'user.id'. Either include them or remove the dependency array.",["275"],"React Hook useEffect has missing dependencies: 'updateUser', 'user.email', 'user.goal.dailyGoal', 'user.goal.monthlyGoal', 'user.id', and 'user.username'. Either include them or remove the dependency array.",["276"],"React Hook useEffect has a missing dependency: 'user.goal.monthlyGoal'. Either include it or remove the dependency array.",["277"],"React Hook useCallback has missing dependencies: 'signOut', 'token', and 'user.id'. Either include them or remove the dependency array. Outer scope values like 'api' aren't valid dependencies because mutating them doesn't re-render the component.",["278"],"React Hook useCallback has missing dependencies: 'addToast', 'signOut', and 'token'. Either include them or remove the dependency array. Outer scope values like 'api' aren't valid dependencies because mutating them doesn't re-render the component.",["279"],"@typescript-eslint/no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useCallback' is defined but never used.","'setisOverTheGoal' is assigned a value but never used.","React Hook useCallback has missing dependencies: 'history' and 'params.room_id'. Either include them or remove the dependency array.",["280"],"React Hook useEffect has missing dependencies: 'addToast', 'params.room_id', 'signOut', and 'token'. Either include them or remove the dependency array.",["281"],["282"],"React Hook useEffect has missing dependencies: 'addToast', 'params.day', 'params.month', 'params.room_id', 'signOut', and 'token'. Either include them or remove the dependency array.",["283"],"React Hook useEffect has a missing dependency: 'user.goal.dailyGoal'. Either include it or remove the dependency array.",["284"],"React Hook useEffect has missing dependencies: 'params.day' and 'params.month'. Either include them or remove the dependency array.",["285"],["286"],"React Hook useCallback has missing dependencies: 'history', 'signOut', 'token', and 'user'. Either include them or remove the dependency array. Outer scope values like 'api' aren't valid dependencies because mutating them doesn't re-render the component.",["287"],"React Hook useCallback has missing dependencies: 'history', 'params.day', 'params.month', 'params.room_id', 'signOut', and 'token'. Either include them or remove the dependency array. Outer scope values like 'api' aren't valid dependencies because mutating them doesn't re-render the component.",["288"],"React Hook useCallback has missing dependencies: 'addToast' and 'signOut'. Either include them or remove the dependency array.",["289"],"React Hook useEffect has missing dependencies: 'addToast' and 'params.token'. Either include them or remove the dependency array.",["290"],"no-global-assign","no-unsafe-negation",{"desc":"291","fix":"292"},{"desc":"293","fix":"294"},{"desc":"295","fix":"296"},{"desc":"297","fix":"298"},{"desc":"299","fix":"300"},{"desc":"301","fix":"302"},{"desc":"303","fix":"304"},{"desc":"305","fix":"306"},{"desc":"307","fix":"308"},{"desc":"309","fix":"310"},{"desc":"311","fix":"312"},{"desc":"311","fix":"313"},{"desc":"314","fix":"315"},{"desc":"316","fix":"317"},{"desc":"318","fix":"319"},{"desc":"320","fix":"321"},{"desc":"322","fix":"323"},{"desc":"324","fix":"325"},{"desc":"326","fix":"327"},{"desc":"328","fix":"329"},"Update the dependencies array to be: [addToast]",{"range":"330","text":"331"},"Update the dependencies array to be: [data.user.rooms.length]",{"range":"332","text":"333"},"Update the dependencies array to be: [CalculateDailyGoal]",{"range":"334","text":"335"},"Update the dependencies array to be: [data.token, data.user]",{"range":"336","text":"337"},"Update the dependencies array to be: [addToast, signOut, token, user.id]",{"range":"338","text":"339"},"Update the dependencies array to be: [rooms, updateUser, user.email, user.goal.dailyGoal, user.goal.monthlyGoal, user.id, user.username]",{"range":"340","text":"341"},"Update the dependencies array to be: [balance, user.goal.monthlyGoal]",{"range":"342","text":"343"},"Update the dependencies array to be: [user.id, token, signOut, addToast]",{"range":"344","text":"345"},"Update the dependencies array to be: [token, rooms, addToast, signOut]",{"range":"346","text":"347"},"Update the dependencies array to be: [history, params.room_id]",{"range":"348","text":"349"},"Update the dependencies array to be: [addToast, params.room_id, signOut, token]",{"range":"350","text":"351"},{"range":"352","text":"351"},"Update the dependencies array to be: [addToast, params.day, params.month, params.room_id, signOut, token]",{"range":"353","text":"354"},"Update the dependencies array to be: [balance, user.goal.dailyGoal]",{"range":"355","text":"356"},"Update the dependencies array to be: [params.day, params.month]",{"range":"357","text":"358"},"Update the dependencies array to be: [token, items, addToast, signOut]",{"range":"359","text":"360"},"Update the dependencies array to be: [user, token, addToast, history, signOut]",{"range":"361","text":"362"},"Update the dependencies array to be: [token, params.room_id, params.day, params.month, addToast, history, signOut]",{"range":"363","text":"364"},"Update the dependencies array to be: [addToast, signOut]",{"range":"365","text":"366"},"Update the dependencies array to be: [addToast, params.token]",{"range":"367","text":"368"},[2447,2449],"[addToast]",[1719,1721],"[data.user.rooms.length]",[2731,2733],"[CalculateDailyGoal]",[3214,3236],"[data.token, data.user]",[2289,2291],"[addToast, signOut, token, user.id]",[2939,2946],"[rooms, updateUser, user.email, user.goal.dailyGoal, user.goal.monthlyGoal, user.id, user.username]",[3070,3079],"[balance, user.goal.monthlyGoal]",[3677,3691],"[user.id, token, signOut, addToast]",[4441,4452],"[token, rooms, addToast, signOut]",[1694,1696],"[history, params.room_id]",[2217,2219],"[addToast, params.room_id, signOut, token]",[1847,1849],[2436,2438],"[addToast, params.day, params.month, params.room_id, signOut, token]",[2744,2753],"[balance, user.goal.dailyGoal]",[2969,2971],"[params.day, params.month]",[3704,3715],"[token, items, addToast, signOut]",[1683,1697],"[user, token, addToast, history, signOut]",[2116,2130],"[token, params.room_id, params.day, params.month, addToast, history, signOut]",[811,813],"[addToast, signOut]",[1543,1545],"[addToast, params.token]"]